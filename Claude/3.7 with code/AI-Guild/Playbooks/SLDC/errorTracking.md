                                                                                                                                                                                                                                                                                        │ │
│ │ Context: You are acting as a code-writing AI agent that may issue Bash (or similar) commands during your work. Every command that results in a success or failure must be logged persistently. The system uses Winston for logging, and the logs are branch-aware.                       │ │
│ │                                                                                                                                                                                                                                                                                          │ │
│ │ Instructions:                                                                                                                                                                                                                                                                            │ │
│ │ 1. On Command Execution:                                                                                                                                                                                                                                                                 │ │
│ │    • If the command fails (non-zero exit or exception), you must:                                                                                                                                                                                                                        │ │
│ │      • Log the error using Winston.                                                                                                                                                                                                                                                      │ │
│ │      • Name the log file (or entry) using the current Git branch name (from git rev-parse --abbrev-ref HEAD) + -failures.log.                                                                                                                                                            │ │
│ │      • Append the error message, ensuring no duplicates.                                                                                                                                                                                                                                 │ │
│ │    • If the command succeeds, you must:                                                                                                                                                                                                                                                  │ │
│ │      • Log the success using Winston.                                                                                                                                                                                                                                                    │ │
│ │      • Name the log file (or entry) using the current Git branch name + -successes.log.                                                                                                                                                                                                  │ │
│ │      • Append the success message, also avoiding duplicates.                                                                                                                                                                                                                             │ │
│ │                                                                                                                                                                                                                                                                                          │ │
│ │ 2. Format of Log Entries:                                                                                                                                                                                                                                                                │ │
│ │ ```                                                                                                                                                                                                                                                                                      │ │
│ │ {                                                                                                                                                                                                                                                                                        │ │
│ │   "timestamp": "<ISO string>",                                                                                                                                                                                                                                                           │ │
│ │   "command": "<bash command or description>",                                                                                                                                                                                                                                            │ │
│ │   "status": "success" | "error",                                                                                                                                                                                                                                                         │ │
│ │   "message": "<stdout or error trace>"                                                                                                                                                                                                                                                   │ │
│ │ }                                                                                                                                                                                                                                                                                        │ │
│ │ ```                                                                                                                                                                                                                                                                                      │ │
│ │                                                                                                                                                                                                                                                                                          │ │
│ │ 3. Deduplication rule:                                                                                                                                                                                                                                                                   │ │
│ │    • Log entries must be skipped if the command string already exists in the respective success/failure log.                                                                                                                                                                             │ │
│ │                                                                                                                                                                                                                                                                                          │ │
│ │ 4. Output your final code or recommendation, but also:                                                                                                                                                                                                                                   │ │
│ │    • Silently log your successes and failures in real time.                                                                                                                                                                                                                              │ │
│ │    • Provide a final summary at the end of your execution like:                                                                                                                                                                                                                          │ │
│ │                                                                                                                                                                                                                                                                                          │ │
│ │ ✅ Successes: 3 | ❌ Failures: 1 | See logs in: logs/<branchname>-*.log            